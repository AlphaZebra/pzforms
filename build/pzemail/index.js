(()=>{"use strict";const e=window.wp.blocks,i=(window.wp.i18n,window.wp.blockEditor),a=window.wp.components,n=window.ReactJSXRuntime,t=JSON.parse('{"UU":"peakforms/pzemail"}');(0,e.registerBlockType)(t.UU,{icon:{src:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{backgroundColor:"transparent"},children:[(0,n.jsx)("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",fill:"transparent"}),(0,n.jsx)("polyline",{points:"22,6 12,13 2,6",fill:"transparent"})]}),foreground:"#0693e3"},edit:function(e){const{attributes:t,setAttributes:l}=e,{marginValues:s,paddingValues:r}=t;return(0,n.jsxs)("div",{...(0,i.useBlockProps)(),children:[(0,n.jsxs)(i.InspectorControls,{children:[(0,n.jsxs)(a.PanelBody,{title:"Config",children:[(0,n.jsx)(a.TextControl,{label:"Prompt displayed with field",value:t.prompt,onChange:e=>l({prompt:e})}),(0,n.jsx)(a.TextControl,{label:"Field variable name",help:"Unique to this page. No spaces. This is the name of the field in the form data when email is sent.",value:t.email_name?t.email_name:t.email_id,onChange:e=>l({email_name:e,email_id:e})}),(0,n.jsx)(a.TextControl,{label:"Width",help:"May be a percentage or a number of pixels.",value:t.width,onChange:e=>l({width:e})}),(0,n.jsx)(a.CheckboxControl,{label:"Required",checked:t.required,onChange:e=>l({required:e})}),(0,n.jsx)(a.CheckboxControl,{label:"Show Asterisk",checked:t.showAsterisk,onChange:e=>l({showAsterisk:e})})]}),(0,n.jsxs)(a.PanelBody,{title:"Spacing",initialOpen:!1,children:[(0,n.jsx)(a.__experimentalBoxControl,{label:"Margin",values:s,onChange:e=>l({marginValues:e})}),(0,n.jsx)(a.__experimentalBoxControl,{label:"Padding",values:r,onChange:e=>l({paddingValues:e})})]})]}),(0,n.jsx)("div",{style:{margin:s?`${s.top} ${s.right} ${s.bottom} ${s.left}`:void 0,padding:r?`${r.top} ${r.right} ${r.bottom} ${r.left}`:void 0},children:(0,n.jsx)(a.TextControl,{type:"email",id:t.email_id,name:t.email_name,label:t.prompt,required:t.required&&t.showAsterisk,style:{width:t.width}})})]})},save:function({attributes:e}){e.class="form-style-1";const a={type:"email",id:e.id,name:e.id,style:{width:e.width}},t={margin:e.marginValues?`${e.marginValues.top} ${e.marginValues.right} ${e.marginValues.bottom} ${e.marginValues.left}`:void 0,padding:e.paddingValues?`${e.paddingValues.top} ${e.paddingValues.right} ${e.paddingValues.bottom} ${e.paddingValues.left}`:void 0};return(0,n.jsxs)("div",{...i.useBlockProps.save(),style:t,children:[(0,n.jsxs)("label",{htmlFor:e.id,style:{display:"block"},children:[e.prompt,e.required&&e.showAsterisk]}),(0,n.jsxs)("div",{className:"email-input-wrapper",children:[(0,n.jsx)("input",{...a,...e.required&&{required:!0,"aria-required":"true"}}),(0,n.jsx)("span",{id:`${e.id}-warning`,className:"email-warning",style:{display:"none",color:"#dc3232",fontSize:"0.8em",marginTop:"4px"},children:"Please enter a valid email address"})]})]})}})})();